<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sign in - Sagittarum</title>
  <style>
:root{--primary-gradient:linear-gradient(135deg,#667eea 0%,#764ba2 100%);--color-primary:#667eea;--color-secondary:#764ba2;--color-text:#1f2937;--color-text-light:#6b7280;--color-white:#fff;--color-gray-200:#e5e7eb;--radius-lg:.75rem;--shadow-lg:0 10px 15px -3px rgba(0,0,0,.1);--shadow-xl:0 20px 25px -5px rgba(0,0,0,.1)}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:linear-gradient(135deg,#f5f7fa 0%,#c3cfe2 100%);color:var(--color-text);line-height:1.6;min-height:100vh}
a{color:var(--color-primary);text-decoration:none}
button{font-family:inherit;cursor:pointer;border:none;outline:none}
input{font-family:inherit;outline:none}
input:focus{outline:2px solid var(--color-primary);outline-offset:2px}
.card{background:var(--color-white);border-radius:1rem;padding:1.5rem;box-shadow:var(--shadow-lg)}
.btn{font-weight:600;border-radius:var(--radius-lg);padding:.75rem 1rem;cursor:pointer;background:var(--primary-gradient);color:var(--color-white);transition:transform .2s}
.btn:hover:not(:disabled){transform:translateY(-2px)}
.login-page{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:1.5rem;position:relative}
.login-page__bg{position:absolute;inset:0;background:radial-gradient(ellipse at top left,rgba(102,126,234,.2) 0%,transparent 50%),radial-gradient(ellipse at bottom right,rgba(245,87,108,.2) 0%,transparent 50%);z-index:0}
.login-page__content{position:relative;z-index:1;width:100%;max-width:420px}
.login-card__header{text-align:center;margin-bottom:1.5rem}
.login-card__title{background:var(--primary-gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:2.5rem;font-weight:700}
.login-card__subtitle{color:var(--color-text-light);font-size:1.125rem}
.login-card__form{display:flex;flex-direction:column;gap:1rem}
.login-card__field label{display:block;font-weight:600;font-size:.875rem;margin-bottom:.25rem}
.login-card__field input{width:100%;padding:.75rem 1rem;border:2px solid var(--color-gray-200);border-radius:var(--radius-lg)}
.login-card__error{padding:.75rem;background:linear-gradient(135deg,#fee2e2,#fecaca);border:1px solid #fca5a5;border-radius:var(--radius-lg);color:#dc2626;font-size:.875rem}
.login-card__btn{width:100%;padding:.75rem;font-size:1rem}
.login-card__signup{text-align:center;font-size:.875rem;color:var(--color-text-light)}
.login-card__signup-link{color:#2563eb;font-weight:600}
.login-card__signup-link:hover{text-decoration:underline}
.login-card__hint{text-align:center;font-size:.75rem;color:var(--color-text-light)}
  </style>
</head>
<body>
  <div class="login-page">
    <div class="login-page__bg"></div>
    <div class="login-page__content">
      <div class="card">
        <div class="login-card__header">
          <h1 class="login-card__title">Sagittarum</h1>
          <p class="login-card__subtitle">Sign in</p>
        </div>
        <form id="loginForm" class="login-card__form">
          <div id="loginError" class="login-card__error" style="display:none"></div>
          <div class="login-card__field">
            <label for="username">Username</label>
            <input id="username" type="text" required placeholder="Enter your username" />
          </div>
          <div class="login-card__field">
            <label for="password">Password</label>
            <input id="password" type="password" required placeholder="Enter your password" />
          </div>
          <button type="submit" class="btn login-card__btn">Sign in</button>
          <p class="login-card__signup">Don't have an account? <a href="../signup/" class="login-card__signup-link">Sign up</a></p>
        </form>
      </div>
    </div>
  </div>
  <script>
(function(){
var SK='sagittarum_session',D=7*24*60*60*1000;
window.Sagittarum={session:{saveSession:function(u){localStorage.setItem(SK,JSON.stringify({user:u,expiresAt:Date.now()+D}))},getCurrentUser:function(){try{var s=localStorage.getItem(SK);if(!s)return null;var d=JSON.parse(s);if(Date.now()>d.expiresAt){localStorage.removeItem(SK);return null}return d.user}catch(e){return null}},clearSession:function(){localStorage.removeItem(SK)}},auth:{login:function(u,p){return new Promise(function(r){setTimeout(function(){if(u&&p){var role=/teacher|prof/i.test(u)?'teacher':'student';r({success:true,user:{id:'u'+Date.now(),username:u,role:role,name:u.charAt(0).toUpperCase()+u.slice(1)}})}else r({success:false,error:'Invalid credentials'})},500)})}}};
document.getElementById('loginForm').onsubmit=function(e){e.preventDefault();var u=document.getElementById('username').value.trim(),p=document.getElementById('password').value,err=document.getElementById('loginError');err.style.display='none';window.Sagittarum.auth.login(u,p).then(function(r){if(r.success){window.Sagittarum.session.saveSession(r.user);location.href=r.user.role==='teacher'?'../teacher/':'../student/'}else{err.textContent=r.error||'Sign in failed';err.style.display='block'}})}
})();
  </script>
</body>
</html>
